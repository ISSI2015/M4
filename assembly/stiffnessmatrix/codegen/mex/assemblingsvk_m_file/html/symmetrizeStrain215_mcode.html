<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,244" id="srcline244">244</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,245" id="srcline245">245</a></span><span class="line"><span class="keyword">function</span>  <span class="var type1" id="S177T4U1567">mat</span> = symmetrizeStrain(<span class="mxinfo" id="T4:U2"><span class="mxinfo" id="T4:U3"><span class="var type1" id="S177T4U1570">mat</span></span></span>,<span class="var type1" id="S178T12U1571">trafo</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,246" id="srcline246">246</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,247" id="srcline247">247</a></span><span class="line">    <span class="mxinfo" id="T2:U6"><span class="var type1" id="S179T2U1574">N</span> = <span class="mxinfo" id="T2:U8">size(<span class="var type1" id="S177T4U1577">mat</span>,2)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,248" id="srcline248">248</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,249" id="srcline249">249</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S181T2U1581">i</span>=<span class="mxinfo" id="T2:U11">1</span>:<span class="mxinfo" id="T2:U12"><span class="mxinfo" id="T2:U13">1/2</span>*<span class="var type1" id="S179T2U1588">N</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,250" id="srcline250">250</a></span><span class="line">        <span class="comment">%mat(:,2*i-1:2*i) = 0.5*(mat(:,2*i-1:2*i)*(trafo\eye(2))+(mat(:,2*i-1:2*i)*(trafo\eye(2)))');</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,251" id="srcline251">251</a></span><span class="line">        <span class="mxinfo" id="T12:U15"><span class="mxinfo" id="T12:U16"><span class="var type1" id="S177T4U1592">mat</span>(:,<span class="mxinfo" id="T49:U18"><span class="mxinfo" id="T2:U19"><span class="mxinfo" id="T2:U20">2</span>*<span class="var type1" id="S181T2U1598">i</span>-1</span>:<span class="mxinfo" id="T2:U22">2</span>*<span class="var type1" id="S181T2U1602">i</span></span>)</span> = <span class="mxinfo" id="T12:U24"><span class="mxinfo" id="T12:U25"><span class="var type1" id="S177T4U1605">mat</span>(:,<span class="mxinfo" id="T49:U27"><span class="mxinfo" id="T2:U28"><span class="mxinfo" id="T2:U29">2</span>*<span class="var type1" id="S181T2U1611">i</span>-1</span>:<span class="mxinfo" id="T2:U31">2</span>*<span class="var type1" id="S181T2U1615">i</span></span>)</span>*(<span class="mxinfo" id="T12:U33"><span class="var type1" id="S178T12U1618">trafo</span>\<span class="mxinfo" id="T12:U35">eye(2)</span></span>)</span></span>; <span class="comment">% no symmetrization</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,252" id="srcline252">252</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,253" id="srcline253">253</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,254" id="srcline254">254</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,255" id="srcline255">255</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,256" id="srcline256">256</a></span><span class="line"><span class="comment">% function matOut = assemble2by2Blocks(mat)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,257" id="srcline257">257</a></span><span class="line"><span class="comment">% </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,258" id="srcline258">258</a></span><span class="line"><span class="comment">%     N = size(mat);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,259" id="srcline259">259</a></span><span class="line"><span class="comment">%     matOut = zeros(1/2*N);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,260" id="srcline260">260</a></span><span class="line"><span class="comment">%     </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,261" id="srcline261">261</a></span><span class="line"><span class="comment">%     for i=1:1/4*N(1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,262" id="srcline262">262</a></span><span class="line"><span class="comment">%         for j=1:1/4*N(2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,263" id="srcline263">263</a></span><span class="line"><span class="comment">%             matOut(2*i-1:2*i,2*j-1:2*j) = [ trace(mat(4*i-3:4*i-2 , 4*j-3:4*j-2)) trace(mat(4*i-1:4*i , 4*j-3:4*j-2)) ; trace(mat( 4*i-3:4*i-2, 4*j-1:4*j)) trace(mat(4*i-1:4*i , 4*j-1:4*j)) ]';</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,264" id="srcline264">264</a></span><span class="line"><span class="comment">%         end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,265" id="srcline265">265</a></span><span class="line"><span class="comment">%     end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,266" id="srcline266">266</a></span><span class="line"><span class="comment">% </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,267" id="srcline267">267</a></span><span class="line"><span class="comment">% end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,268" id="srcline268">268</a></span><span class="line"></span></span>
</pre>
